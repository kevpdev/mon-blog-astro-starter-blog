---
import BaseLayout from '../layouts/BaseLayout.astro';
import Container from '../components/ui/Container.astro';
import Section from '../components/ui/Section.astro';
import Button from '../components/ui/Button.astro';
import { createInternalUrl } from '../utils/url.ts';

const title = 'Erreur serveur - 500';
const description = 'Une erreur inattendue s\'est produite sur le serveur.';
---

<BaseLayout
  title={title}
  description={description}
>
  <Section class="py-16 md:py-24">
    <Container size="md" class="text-center">
      <div class="mb-8">
        <h1 class="text-6xl md:text-8xl font-bold text-[rgb(var(--error-primary,255,0,0))] mb-4">
          500
        </h1>
        <h2 class="text-2xl md:text-3xl font-semibold mb-4 text-[rgb(var(--text-primary))]">
          Erreur serveur
        </h2>
        <p class="text-lg text-[rgb(var(--text-secondary))] mb-8 max-w-md mx-auto">
          Une erreur inattendue s'est produite. Nos équipes ont été automatiquement notifiées et travaillent à résoudre le problème.
        </p>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <Button
          href={createInternalUrl('/')}
          variant="primary"
          size="lg"
        >
          Retour à l'accueil
        </Button>

        <Button
          href="javascript:window.location.reload()"
          variant="secondary"
          size="lg"
        >
          Réessayer
        </Button>
      </div>

      <div class="mt-12 pt-8 border-t border-[rgb(var(--border-primary))]">
        <h3 class="text-lg font-medium mb-4 text-[rgb(var(--text-primary))]">
          Le problème persiste ?
        </h3>
        <p class="text-[rgb(var(--text-secondary))] mb-4">
          Si cette erreur continue d'apparaître, vous pouvez :
        </p>
        <div class="space-y-2 text-sm text-[rgb(var(--text-secondary))]">
          <p>• Vider le cache de votre navigateur</p>
          <p>• Essayer depuis un autre navigateur</p>
          <p>• Revenir plus tard</p>
        </div>
        <div class="mt-6">
          <a
            href={createInternalUrl('/contact')}
            class="text-[rgb(var(--brand-primary))] hover:text-[rgb(var(--brand-primary-hover))] transition-colors no-underline"
          >
            Nous contacter pour signaler le problème
          </a>
        </div>
      </div>
    </Container>
  </Section>
</BaseLayout>